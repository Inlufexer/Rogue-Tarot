[gd_scene load_steps=38 format=4 uid="uid://c6s1bkgeo0pll"]

[ext_resource type="Script" uid="uid://d3r7gs60cjoo4" path="res://scripts/player_scripts/character_movement.gd" id="1_goc38"]
[ext_resource type="Script" uid="uid://b6knvm5ba5rgf" path="res://scripts/player_scripts/character_animation_controller.gd" id="2_nq7ct"]
[ext_resource type="Script" uid="uid://c5gkcjaeuokeh" path="res://scripts/player_scripts/shooting_handle.gd" id="3_jaibh"]
[ext_resource type="PackedScene" uid="uid://ddc7qqe42ueh8" path="res://scenes/components/health_component.tscn" id="4_4ixvr"]
[ext_resource type="PackedScene" uid="uid://5n1d1jmkmr2x" path="res://scenes/components/hurtbox_component.tscn" id="5_qpfff"]
[ext_resource type="Script" uid="uid://b2og1vmaftkev" path="res://scripts/player_scripts/tarot_handler.gd" id="6_qpfff"]
[ext_resource type="Script" uid="uid://nfradiqqeuuo" path="res://scripts/pathfinding/scent_emitter.gd" id="7_scqqp"]

[sub_resource type="PortableCompressedTexture2D" id="PortableCompressedTexture2D_scqqp"]
_data = PackedByteArray("AAADAAUAAAABAAAAoAAAAIAAAAAgBAAAUklGRhgEAABXRUJQVlA4TAwEAAAvn8AfEE+gIJIN6rron0APKvypY6ZtG7PrW+oFMgwz07ZNuJQ/gmLoWxoFME0SEBT8H12A5gsI2Tjf0f5/C5BoUJIANm4j4Ya+7uprc7YHsGv4gPgFfsMUVL5BYZXQuvWc+gdR8blD0gQRI3OO6D/atm0jT93YnAFvZILArhxcDlnRk+MsRLS7ctycOVi6oRsHyyVe6gS9OM4i3Wj34uCVuu3oxQFyN3DjSLFbduTIVZKTIwfHKFWCDhzKoTI4cnALPTmWEGPYHDn4fbj+Ed6jH8fStzlybK3FkSPlcA0hZZMj/KE7bM6oO+aKusNW0B16QS2Mi5qDJxyTTtQd84HQ3/+Q7hjXHALzDo6dE0eQUmdxcCx1CPMOkFInMOxYX0wOue1nQd2hOFUHMtkchFxsjjLhWK3tr58IWAIRa6TfUY2QRY3Gie6ecaAtRmMg7aU4tMkUZcL1piYI7MrB5ZAVPTnOQkS7K8fNmYOlG7pxsFy6CXpxnEW60e7FwSt129GLA+Ru4MaRYrf8/+XgPnTgUD6WwYFD+Rh6ciyhbnPk4Pet9+jHsfRtjhxba3HkSLmVsiNH1B1zRd3huag5eMIx6UTdMR8I1emOcVQnMO/g2DlxBCl1FgfHUocw7wApdQKjXo7T5pBynDe0OLhUJw4jZKOjIJPZoQbnYaiZHtC6G6omc6Q6RE2qS01Ut5hjtMRoDaS9FIc2maJMuN7U2sOVg8shK3pynIWIdleOmzMHSzd042D5/nSpE/TiOIt0o92Lg1fqtqMXB8jdwI0jxW7ZkUNq4snBMTcJOnAoh8rgyMEtdOUIMX7YNEd4qGMJ1z8+vEfFER7p4Pct1REmHNsrO57VnkctfRF1h9IyKodreI447eD4b3WEHzHrjrEzpKyU1NKwX613KasOQzGEEDNMO1L+GUKX7hg5NXhqIaiOR8b0RISgOYb1DkbVMZI1R8RRpQ5h2sGoOyadMnYc6wuaHC/HWWyOojuQaVcd4wi52BxlwgEipnZxFog5mrgjsOqScaw6pbrNAahpFGMg7aU4tMkUZcL1piYI7MrB5ZAVPTnOQkS7K8fNmYOlG7pxsFy+P10uF0EvjrNIN9q9OHilbjt6cYDcDdw4UuyWPTmkJo4c3BQpogOHcqgMjhzcQk+O5VuMYewID3bw+2/XP8I2dITHONTe4zDFsbyaY9RfNgfHvk13DNrU4n+FkOYdKf4K1fE14oTjDpKD6s66Qyn/bP2IqDkMQYohhKg7xtW9S1l3jJiam1sZdMcjI3oihGkHY+9IWXcMvt0c4zuUOrQ7GOcdojtv+2l0lOO8mR3jVkJW0h0FmcyOcSJgT1Z3CZgi1YGgOWTGiaA5ZKbhXiEAUyDtpU1UhOioSRcA")
size_override = Vector2(160, 128)

[sub_resource type="AtlasTexture" id="AtlasTexture_omhwl"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(0, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_k8tqh"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(32, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_puaen"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(64, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_67erv"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(96, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_bxjqp"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(128, 0, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_b52hj"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(0, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_11ltb"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(32, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_d1er0"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(64, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_41eyy"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(96, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_i76gj"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(128, 32, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_jo06i"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(0, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_7iqoa"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(32, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3o8ut"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(64, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_yu3b6"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(96, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_01d3w"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(128, 64, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_raeoo"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(0, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_3mme7"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(32, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_51cyn"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(64, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_0pgnn"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(96, 96, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_1nkkh"]
atlas = SubResource("PortableCompressedTexture2D_scqqp")
region = Rect2(128, 96, 32, 32)

[sub_resource type="SpriteFrames" id="SpriteFrames_yce0t"]
animations = [{
"frames": [{
"duration": 2.0,
"texture": SubResource("AtlasTexture_omhwl")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_k8tqh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_puaen")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_omhwl")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_67erv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bxjqp")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_b52hj")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_11ltb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d1er0")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_b52hj")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_41eyy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i76gj")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_jo06i")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_7iqoa")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_3o8ut")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_jo06i")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_yu3b6")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_01d3w")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_raeoo")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_3mme7")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_51cyn")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_raeoo")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_0pgnn")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_1nkkh")
}],
"loop": true,
"name": &"Walking Cycles",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_omhwl")
}],
"loop": true,
"name": &"default_sprite",
"speed": 10.0
}, {
"frames": [{
"duration": 2.0,
"texture": SubResource("AtlasTexture_b52hj")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_11ltb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_d1er0")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_b52hj")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_41eyy")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_i76gj")
}],
"loop": true,
"name": &"walk_backwards",
"speed": 20.0
}, {
"frames": [{
"duration": 2.0,
"texture": SubResource("AtlasTexture_omhwl")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_k8tqh")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_puaen")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_omhwl")
}, {
"duration": 2.0,
"texture": SubResource("AtlasTexture_67erv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_bxjqp")
}],
"loop": true,
"name": &"walk_forward",
"speed": 20.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_jo06i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_7iqoa")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3o8ut")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_jo06i")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_yu3b6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_01d3w")
}],
"loop": true,
"name": &"walk_left",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_raeoo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_3mme7")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_51cyn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_raeoo")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0pgnn")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_1nkkh")
}],
"loop": true,
"name": &"walk_right",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4ixvr"]
size = Vector2(12, 3)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_qpfff"]
size = Vector2(12, 26)

[sub_resource type="Animation" id="Animation_scqqp"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"Walking Cycles"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}

[sub_resource type="Animation" id="Animation_puaen"]
resource_name = "walk_backwards"
length = 0.60001
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk_backwards"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_k8tqh"]
resource_name = "walk_forward"
length = 0.60001
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk_forward"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_omhwl"]
resource_name = "walk_left"
length = 0.60001
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk_left"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="Animation" id="Animation_qpfff"]
resource_name = "walk_right"
length = 0.60001
loop_mode = 1
step = 0.1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("AnimatedSprite2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"walk_right"]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("AnimatedSprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3, 0.4, 0.5),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3, 4, 5]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_scqqp"]
_data = {
&"RESET": SubResource("Animation_scqqp"),
&"walk_backwards": SubResource("Animation_puaen"),
&"walk_forward": SubResource("Animation_k8tqh"),
&"walk_left": SubResource("Animation_omhwl"),
&"walk_right": SubResource("Animation_qpfff")
}

[node name="CharacterBody2D" type="CharacterBody2D"]
collision_layer = 16
collision_mask = 1025
script = ExtResource("1_goc38")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(0, -14.5)
sprite_frames = SubResource("SpriteFrames_yce0t")
animation = &"Walking Cycles"
metadata/_aseprite_wizard_interface_config_ = {
"animation_section": false,
"layer_section": false,
"output_section": false,
"pending_changes": {},
"slice_section": false
}
metadata/_aseprite_wizard_config_ = {
"embed_tex": true,
"layers": [],
"o_ex_p": "",
"o_folder": "",
"o_name": "",
"only_visible": false,
"should_round_fps": true,
"slice": "",
"source": "res://assets/player/fedora_man.aseprite",
"source_uid": 7928193646546050039
}
metadata/_aseprite_wizard_source_file_hash_ = "63a92d075a10d6cf28e9ecf433b053c7"

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_4ixvr")

[node name="HurtboxComponent" parent="." node_paths=PackedStringArray("health_component") instance=ExtResource("5_qpfff")]
position = Vector2(0, -14.5)
collision_layer = 16
collision_mask = 1024
health_component = NodePath("../HealthComponent")
is_player = true

[node name="hurtbox" type="CollisionShape2D" parent="HurtboxComponent"]
position = Vector2(0, 3)
shape = SubResource("RectangleShape2D_qpfff")

[node name="TarotHandler" type="Node2D" parent="."]
script = ExtResource("6_qpfff")

[node name="ScentEmitter" type="Node2D" parent="."]
script = ExtResource("7_scqqp")

[node name="HealthComponent" parent="." instance=ExtResource("4_4ixvr")]

[node name="Shooting_Handle" type="Node2D" parent="."]
script = ExtResource("3_jaibh")

[node name="Timer" type="Timer" parent="Shooting_Handle"]
wait_time = 0.25
one_shot = true
ignore_time_scale = true

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_scqqp")
}
script = ExtResource("2_nq7ct")

[connection signal="fool_used" from="TarotHandler" to="Shooting_Handle" method="_on_tarot_handler_fool_used"]
[connection signal="magician_used" from="TarotHandler" to="Shooting_Handle" method="_on_tarot_handler_magician_used"]
